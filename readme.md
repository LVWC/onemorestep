这里是one more step 的mod说明文档。
## 0、写在前面
    （文档可能有不完整之处，尽可能参考官方mod示例）
    目前mod制作尚处于内测阶段，这意味着你暂时只可以自娱自乐，不可上传至steam创意工坊与别人分享你的mod
    你可以选择加入内测并跟随内测进度调整你的mod，这样就可以等到mod接口开放时成为第一批上传者
    steam库中右键游戏-属性-测试，输入测试密码test123456789解锁测试模式

## 1、所需技能
    您不需要任何编程相关经验
    只需要简单的向Excel表格输入数据即可
    如果你有图片处理经验会使你创造的英雄看起来更协调一些

## 2、所需资源
    一张简单的png图片便可创造一个装备。
    最少一张图便可满足您创造一个英雄的欲望。
    战场人物图片大小最好在100*100像素左右
    人物头像、装备icon大小为64*64
    
## 3、快速开始

    0、所有需要命名的地方，使用英文+数字+下划线方式，不可出现中文。
    1、首先打开游戏目录下resources\app\app\mods 文件夹。
    2、在这里新建一个文件夹，作为你自己的mod物品文件夹(这个文件夹最好以你自己的名字_mod名字,如"name_myMod")
    3、从mod模板中复制actor.xlsx到你的新建文件夹。
    4、在新建的文件夹中新建一个res文件夹，作为所有图片，音效等资源的存放目录，内部资源如何整理自己随意    
    5、打开actor.xlsx，选择actorConfig表格，将原有数据删除，保留第一行标题。
    6、按照标题描述填写对应的数据，橙色标题为必填项目。



## 4、actorConfig表格字段说明
    id:角色的唯一id，同样的角色，不管多少等级，都是这个id，这个id应该尽量避免与他人重复如:name_myMod_actor_10001;
    name:最好使用英语名称，最好填写，方便非汉语地区的人知道你的角色名。
    name-zh：如果有这个字段，则玩家选择了中文时会使用这个名称。如果你希望使用俄语 则改为name-ru，或者，你可以复制一列数据出来，改成任何你希望的语言
    level：角色等级，如果你的角色有三个等级（星级），这意味着你要写三行数据出来。
    quality：品质
    levelNeed：升星需求，代表几个角色可以升级成一个更高等级的角色。
    occu：职业，你可以自定义职业（查看occuConfig表格字段说明），也可以直接将你的角色纳入官方职业中，目前官方已有职业如下
            official_occu_1001（战士）
            official_occu_1002（牧师）
            official_occu_1003（法师）
            official_occu_1004（追击）
            official_occu_1005（穿刺）
            official_occu_1006（坦克)
            official_occu_1007（野兽)
    atk、def、hp、ap、apDef、avoid:这几项是人物的基础属性
    skills：技能填写规则在大标题7处有统一说明
    skillDescs:自定义的技能描述，用以替换原有文案（可不填）。如有多个技能，中间用“|”分隔，如“攻击附加xxx|血量增加10点”
    icon：角色头像的相对路径，如res/actor1/icon.png
    idleAnim：角色站立动画的相对路径，图片应放在同一个子文件夹下，并且命名按照1、2、3进行排序。
                    比如，你在res/actor1/idle/下面有idle1.png,idle2.png,idle3.png三张图片，那么，这里填入res/actor1/idle/idle,3
                    如果你想要调整动画的播放速度，则再加一个字段，否则默认是1
                    最后这个数字越大速度越快，可为浮点数 如，res/actor1/idle/idle,3,1.5
    atkAnim：攻击动画，规则同上
    hurtAnim：受击动画，规则同上
    deathAnim：死亡动画，规则同上，如果没有，放一张空白图也是比较合适的
    atkType：法术攻击方式，1代表走向敌人攻击；2代表子弹攻击，类似游戏中的火球；3代表召唤物攻击，类似美杜莎施放法术召唤的石头。如果这个角色是个物理攻击型的，填1即可
    atkEffect：物理系可不填，规则同人物动画
    audio：攻击时的音效，如res/actor1/attack.mp3 暂时只支持.mp3，没有可不填

## 5、occuConfig表格字段说明

    id：职业的唯一id，避免和他人重复，如:name_myMod_occu_1001;
    counts：组成羁绊所需角色个数
    skills：技能填写规则在大标题7处有统一说明
    skillDescs:自定义的技能描述，用以替换原有文案（可不填）。与actor不同的是，这里只有一个字符串，写清楚所有技能描述即可
    name：职业名称
    nameEn：职业英文名称
    itemType：生成敌人规则使用，代表了这个职业会用哪些类别的装备，如有多个，用"|"分隔。
                    如 1|4
                    1：攻击类
                    2：医疗类
                    3：法术类
                    4：防御类

## 6、itemsConfig表格字段说明

    id：装备的唯一id，避免和他人重复，如:name_myMod_item_1001;
    name：职业名称
    nameEn：职业英文名称
    skills：技能填写规则在大标题7处有统一说明
    skillDescs:自定义的技能描述，用以替换原有文案（可不填）。如有多个技能，中间用“|”分隔，如“攻击附加xxx|血量增加10点”
    icon：物品图片的相对路径，如res/item/icon.png

    以下三项为生成敌人使用，也是必填项目：
    type：生成敌人规则使用，给这个装备指定一个类别。
                    1：攻击类
                    2：医疗类
                    3：法术类
                    4：防御类
    quality：装备品质，分为4档。
                    注意：这里的装备品质不一定代表越大越厉害，更多的是一个前后期装备的区分。
                    比如，你有一个装备，增加固定攻击力100，那么他可能是2或者3
                             另一个装备是增加50%攻击力的装备，那么他可能是3或4；
    max：代表了敌人最多会携带几件这个装备，比如游戏本体中的刺客面具，这个值为1，因为带多了也没用。


## 7、技能说明
    技能格中可以填写多个技能，用“|”进行分隔。
    如：default,1,0:21002,50|default,1,0:20004,1   代表该角色或装备默认拥有21002及20004两个技能 
    单个技能的规则如下：
        技能由两部分构成：
            1、触发条件
                该部分存在三个字段：条件、值、是否需要怒气显示 （需要用到的资源都可在标题8中找到）
                例如，你现在需要某个技能在受到普通攻击5次之后触发，并且需要显示触发怒气特效：
                写做： underNormalAttackTimes,5,1 
            如果该条件没有数值，则写做1，如：default,1,0 则为默认入场即生效技能，并且不需要触发怒气特效
        2、技能：
            技能由技能id及值构成，现有技能可参照下表。这里先说明如何配置一个技能（需要用到的资源都可在标题8中找到）
        
            最简单的技能：
                21002,50   普通攻击后有{s1}%的概率再次进行一次攻击。      
                20004,1     闪避成功后马上反击对方一次。  （该技能无数值，则数值填1）
            比较复杂的技能：   skill_21801_desc	普通攻击后，有{s1}%的概率给敌人增加一个状态：
            21801,100,buff_1502,3,5
            意味着 普通攻击后有100%的概率对敌人造成一个中毒buff，持续3回合，每回合开始失去5%的血量
         
        通过上述的概念，则现在可以明白技能是由两部分组成的，条件和技能以":"隔开，那么一个完整的技能则应该如下：
        default,1:21005,1       默认生效，普通攻击增加一个攻击目标
        everyNormalAttack,2:30011,5   每普通攻击2次触发一次，增加攻击力%5

        一些高端玩法：
        例如，你现在需要一个技能   每普通攻击3次，下一次攻击必然会造成暴击伤害，该技能实际由两个技能构成
          everyNormalAttack,3,0:30006,100                    每攻击三次，增加暴击率100%
          everyNormalAttack,3,0: 50002,30006,100         每攻击三次，获得一个技能：普通攻击后移除增加暴击率100%的技能。
        可理解为，攻击三次，第四次必然暴击，此次攻击结束后，移除必然暴击。则第五次攻击又可恢复原状。

## 8、现有资源

**触发条件：**

字段 | 效果
:----------- | :-----------
default| 默认生效
battleWithActor|	与{s1}同时上场，
battleWithItem|	装备{s1}，
everyUnderNormalAttack|	每受到{s1}次物理攻击，
underNormalAttackTimes|	累计受到{s1}次物理攻击，
everyUnderMaigcAttack|	每受到{s1}次法术攻击，
underMaigcAttackTimes|	累计受到{s1}次法术攻击，
everyUnderAttack|	每受到{s1}次任意攻击，
underAttackTimes|	累计受到{s1}次任意攻击，
perXRoundPre|	每{s1}回合开始时，
perXRoundAfter|	每{s1}回合结束时，
roundBegin|	第{s1}回合开始阶段，
roundAfter|	第{s1}回合结束阶段，
lifeBelow|	生命值低于{s1}%时，
avoidTimes|	成功闪避{s1}次后，
everyAvoid|	每成功闪避{s1}次，
everyNormalAttack|	每进行{s1}次物理攻击，
everyMagicAttack|	每进行{s1}次法术攻击，
normalAttackTimes|	{s1}次物理攻击后，
maigcAttackTimes|	{s1}次法术攻击后，
everyKillEnemy|	每杀死{s1}个敌人，
killEnemyCount|	杀死{s1}个敌人后，

**技能：**

skillId | 描述
:------------------- | :--------------
10002	|攻击方式变为法术攻击，对{s1}个敌方角色造成法强{s2}%的伤害，并对{s3}个我方角色治疗造成总伤害{s4}%的生命值。
10003	|攻击方式变为法术攻击，对{s1}个敌方角色进行法术攻击，造成伤害相当于法强的{s2}%。
20002|	受到普通攻击造成{s1}%的反伤。
20003|	减免{s1}%受到的法术伤害。
20004|	闪避成功后马上反击对方一次。
20008|	有{s1}%的概率免疫此次受到的伤害。
20009|	受伤后{s1}%的概率进行一次反击。
20011|	免疫束缚状态
20013	|受到伤害后增加相邻角色生命值{s1}点。
20014	|每回合恢复周围角色生命值{s1}%。
20017	|击杀怪物后立即获得{s1}金币(溅射伤害不可获取)。
20018	|死亡时增加我方全体角色攻击力{s1}点。
20019	|死亡时增加我方全体角色护甲{s1}点。
20020|	死亡时对敌方造成自身最大生命值{s1}%的伤害，无视护甲。
20021	|友军死亡时，增加{s1}%的基础攻击力（濒死复活计算一次死亡）。
20030|	永远不会受到反伤和反击。
20031|	永远不会受到暴击伤害。
20034|	受到伤害时，由所有在场同职业角色按比例承担此伤害。
20801|	濒临死亡恢复{s1}%的生命值。
20802|	受到普通攻击时，有{s1}%的概率给敌人增加一个状态：
21002|	普通攻击后有{s1}%的概率再次进行一次攻击。
21004|	普通攻击后回复相当于{s1}%伤害值的自身生命值。
21005|	普通攻击额外增加{s1}个目标。
21006|    普通攻击额外造成目标最大生命{s1}%伤害，无视护甲。
21007|	普通攻击后对两个相邻目标造成{s1}%伤害，无视护甲。
21008|	普攻附带{s1}%物理攻击力的固定伤害，无视护甲。
21009|	生命值越低造成伤害越高，最多增加一倍。
21010|	普通攻击造成暴击伤害后必定给敌人增加一个束缚状态
21012|	命中敌人后，同时对敌人身后造成{s1}%的伤害，无视护甲。
21013|	普通攻击杀死敌人后，可额外进行一次攻击。
21014|	进行穿刺攻击时，可同时对敌人身后两格造成伤害。
21015|	攻击时优先选择生命值最低的敌方单位作为目标。
21016|	每次命中敌人，增加自身{s1}%的暴击率。
21017|	普通攻击命中敌人后,减少敌方护甲{s1}点。
21018|	普通攻击无视敌方护甲。
21020|	普通攻击命中敌人后，给敌人增加一个负面技能,每回合失去{s1}%的生命值,可叠加。
21021|	普通攻击随机选择对方一个敌人进行攻击。
21022|	普通攻击时与一个敌人进行决斗，双方只能依次进行普通攻击，直至一方战死为止。决斗不会影响到第三者(穿刺、溅射等无效)。
21023|	普通攻击后,如果敌人依然存活，失去自身{s1}%的生命值，对敌人造成等量伤害,无视护甲。
21026|	普通攻击临时增加自身已损失生命值的{s1}%的攻击力。
21027|	普通攻击时附带{s1}%法术强度的法术伤害。
21028|	普通攻击后，如果敌人生命值低于{s1}%，则造成相当于敌人当前生命值的伤害（无视护甲）。
21029|	普通攻击后，对同排角色造成{s1}%的伤害,无视护甲。
21801|	普通攻击后，有{s1}%的概率给敌人增加一个状态：
22001|	治疗技能额外作用{s1}个目标。
22002|	使用治疗技能时，治疗效果增强{s1}%。
22004|	使用治疗技能时，可复活场上已死亡单位。
22006|	治疗效果{s1}%概率增加一倍。
22007|	治疗时同时清除角色身上的所有负面状态。
22008|	使用治疗技能时，治疗效果降低{s1}%。
22009|	治疗技能作用目标减少{s1}个。
23001|	法术攻击额外增加{s1}个目标。
23002|	法术攻击目标变为全体。
23003|	法术攻击有{s1}%的概率造成法术暴击，造成2倍伤害。
23004|	法术伤害效果增强{s1}%。
23005|	法术攻击有{s1}%的概率再次进行一次攻击。
23006|	法术攻击后回复相当于{s1}%伤害值的自身生命值。
23008|	法术攻击目标减少{s1}个。
23009|	法术攻击减少敌方护甲{s1}点。
23010|	法术攻击后对敌人造成{s1}%当前生命值的神圣伤害。
23011|	法术攻击降低敌人攻击力，相当于敌人{s1}%的基础攻击力
23012|	法术攻击目标数固定为{s1}
23801|	法术攻击有{s1}%的概率给敌人增加一个状态：
30001|	增加攻击力{s1}点。
30002|	增加法强{s1}点。
30003|	增加最大生命值{s1}点。
30004|	增加护甲{s1}点。
30005|	增加魔抗{s1}点。
30006|	增加暴击率{s1}%。
30007|	增加暴击伤害{s1}%。
30008|	增加闪避{s1}%。
30009|	增加当前生命值{s1}
30010|	增加最大生命值{s1}%的当前生命值
30011|	增加攻击力{s1}%。
30012|	增加法术强度{s1}%。
30013|	增加最大生命值{s1}%。
30014|	增加角色基础生命值{s1}%的攻击力。
31001|	减少攻击力{s1}点。
31002|	减少法强{s1}点。
31003|	减少最大生命值{s1}点。
31004|	减少护甲{s1}点。
31005|	减少魔抗{s1}点。
31006|	减少暴击率{s1}%。
31007|	减少暴击伤害{s1}%。
31008|	减少闪避{s1}%。
31009|	减少当前生命值{s1}
31010|	减少最大生命值{s1}%的当前生命值
31011|	减少攻击力{s1}%。
31012|	减少法术强度{s1}%。
31013|	减少最大生命值{s1}%。
40001|	佩戴者的职业技能等级加{s1}。
40002|	增加我方场上职业个数乘以{s1}%的攻击力。
40003|	在场时增加我方场上所有同职业角色{s1}点护甲。
40004|	在场时增加我方场上所有同职业角色{s1}%的反伤。
40005|	在场时增加我方场上所有同职业角色{s1}%基础攻击力。
40006|	在场时增加我方场上所有同职业角色{s1}%基础法术强度。
50001|	回合结束时，移除下列技能：
50002|	物理攻击后，移除下列技能：
50003|	法术攻击后，移除下列技能：

**buff**

id | 描述
:----------- | :-----------
buff_1001|	再生：每回合开始时恢复{s2}%的生命值,持续{s1}回合
buff_1002|	鼓舞：物理伤害结果提升{s2}%，持续{s1}回合
buff_1003|	鼓舞：物理伤害结果提升{s2}点，持续{s1}回合
buff_1004|	法力增强：魔法伤害结果提升{s2}%，持续{s1}回合
buff_1005|	法力增强：魔法伤害结果提升{s2}点，持续{s1}回合
buff_1501|	束缚：无法主动行动，持续{s1}回合
buff_1502|	中毒：每回合降低最大生命值{s2}的生命值，持续{s1}回合
buff_1503|	易伤：受到的物理伤害加深{s2}%，持续{s1}回合
buff_1504|	虚弱：物理伤害结果降低{s2}%，持续{s1}回合
buff_1505|	虚弱：物理伤害结果降低{s2}点，持续{s1}回合
buff_1506|	嘲讽：所有敌方单位会优先攻击此目标，持续{s1}回合
buff_1507|	法力空虚：魔法伤害结果降低{s2}%，持续{s1}回合
buff_1508|	法力空虚：魔法伤害结果降低{s2}点，持续{s1}回合
buff_1509|	爆破：buff持续回合结束后对敌方造成{s2}%最大血量的伤害，持续{s1}回合
buff_1510|	爆破：buff持续回合结束后对敌方造成{s2}%点伤害，持续{s1}回合
buff_1511|	法术易伤：受到的魔法伤害加深{s2}%，持续{s1}回合
